(this.webpackJsonpsocialnetwork_laboratoria=this.webpackJsonpsocialnetwork_laboratoria||[]).push([[0],{103:function(e,t,a){e.exports=a(133)},108:function(e,t,a){},109:function(e,t,a){},115:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(10),s=a.n(i);a(108),a(81),a(109);var o,c=a(48),l=a(9),u=a(58);function d(e){return{type:o.LOGIN,userAuthenticated:e}}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e[e.LOGIN=0]="LOGIN",e[e.LOGOFF=1]="LOGOFF"}(o||(o={}));var p={userAuthenticated:void 0};var f,v=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.LOGIN:return h({},e,{userAuthenticated:t.userAuthenticated});case o.LOGOFF:return h({},e,{userAuthenticated:void 0});default:return e}return t.type===o.LOGIN?h({},e,{userAuthenticated:t.userAuthenticated}):e})),E=a(61),b=a(39),g=a(12),O=a(13),S=a(26),N=a(27),y=a(29),w=(a(67),a(134)),T=a(183),A=a(177),k=a(16),I=a.n(k),j=a(22),C=a(175),L=a(176),R=(a(115),a(185)),M=a(174),x=a(87),P=a.n(x),D=a(86),F=a.n(D),B=a(85),H=a.n(B),U=a(83),W=a.n(U),_=a(84),G=a.n(_);function q(e){var t,a=e.text,r=e.handleClose,i=e.variant,s=e.show;switch(i){case f.WARNING:t=n.a.createElement(W.a,null);break;case f.SUCCESS:t=n.a.createElement(G.a,null);break;case f.ERROR:t=n.a.createElement(H.a,null);break;case f.INFO:t=n.a.createElement(F.a,null)}return n.a.createElement(R.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:8e3,onClose:r,ContentProps:{"aria-describedby":"message-id"},message:n.a.createElement("span",{id:"message-id",className:"message"},t,a),action:[n.a.createElement(M.a,{key:"close","aria-label":"close",color:"inherit",className:"close",onClick:r},n.a.createElement(P.a,null))],className:"SnackBar "+i})}!function(e){e.WARNING="warning",e.SUCCESS="success",e.ERROR="error",e.INFO="info"}(f||(f={}));var Z=function(){function e(){Object(g.a)(this,e)}return Object(O.a)(e,null,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"formatDate",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.getFullYear(),n=e.completeLeadingZeros((t.getMonth()+1).toString(),2),i=e.completeLeadingZeros(t.getDate().toString(),2),s="";return a&&(s=" "+this.formatHour(t)),i+"/"+n+"/"+r+s}},{key:"formatHour",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.completeLeadingZeros(t.getHours().toString(),2),n=e.completeLeadingZeros(t.getMinutes().toString(),2),i=a?":"+e.completeLeadingZeros(t.getSeconds().toString(),2):"";return r+":"+n+i}},{key:"getMidnightTime",value:function(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}},{key:"translateDateToText",value:function(e){var t=e;return this.getMidnightTime(e).valueOf()===this.getMidnightTime(new Date).valueOf()?"Today at "+this.formatHour(t):""}},{key:"completeLeadingZeros",value:function(e,t){for(var a="",r=0;r<t;r++)a="0"+a;return(a+e).slice(-t)}}]),e}(),X=a(55),Y=a.n(X),z=function e(){Object(g.a)(this,e)};function V(){for(var e=0;e<Y.a.apps.length;e++)if("[DEFAULT]"==Y.a.apps[e].name)return;Y.a.initializeApp(z.firebaseConfig)}z.firebaseConfig={apiKey:"AIzaSyDS1v5erkI8ArkEpO_NoEDRv4wcDDLIu5I",authDomain:"socialnetwork-d9478.firebaseapp.com",databaseURL:"https://socialnetwork-d9478.firebaseio.com",projectId:"socialnetwork-d9478",storageBucket:"socialnetwork-d9478.appspot.com",messagingSenderId:"1077042299179",appId:"1:1077042299179:web:4048574ca3f2bcffa4456e"};var J,K=Y.a,$=function(){function e(){Object(g.a)(this,e)}return Object(O.a)(e,null,[{key:"createUser",value:function(e,t){return V(),new Promise((function(a,r){K.auth().createUserWithEmailAndPassword(e,t).then((function(e){a(e)})).catch((function(e){r(e)}))}))}},{key:"loginUser",value:function(e,t){return V(),new Promise((function(a,r){K.auth().signInWithEmailAndPassword(e,t).then((function(e){a(e)})).catch((function(e){r(e)}))}))}},{key:"resetPassword",value:function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.next=3,K.auth().sendPasswordResetEmail(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e[e.MALE=0]="MALE",e[e.FEMALE=1]="FEMALE",e[e.NOT_INFORM=2]="NOT_INFORM"}(J||(J={}));var Q,ee,te=function(){function e(t,a,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(g.a)(this,e),this.id="",this.email=void 0,this.firstName=void 0,this.lastName=void 0,this.gender=void 0,this.birthday=void 0,this.friends=void 0,this._friends=void 0,this.email=t,this.firstName=a,this.gender=r,this.birthday=n,this.lastName=i,this.friends=new Array,this._friends=new Array}return Object(O.a)(e,[{key:"getFullName",value:function(){return this.firstName+" "+this.lastName}},{key:"getUpdatable",value:function(){return{id:this.id,email:this.email,firstName:this.firstName,lastName:this.lastName,gender:this.gender,birthday:void 0!=this.birthday?this.birthday.getTime():null,friends:this._friends}}}],[{key:"getUser",value:function(t){var a=t.id,r=t.email,n=t.firstName,i=t.lastName,s=t.gender,o=t.birthday?new Date(t.birthday):void 0,c=t.friends?Object.keys(t.requests).map((function(e){return t.friends[e]})):new Array,l=new e(r,n,s,o,i);return l.id=a,l._friends=c,l}}]),e}(),ae=function(){function e(){Object(g.a)(this,e)}return Object(O.a)(e,null,[{key:"createUser",value:function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.next=3,K.database().ref("users/"+t.id).update(t.getUpdatable());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(e){return V(),new Promise((function(t,a){K.database().ref("users/"+e).once("value",(function(e){var a=te.getUser(e.exportVal());t(a)}))}))}}]),e}();(ee=Q||(Q={}))[ee.EMAIL=0]="EMAIL",ee[ee.FIRSTNAME=1]="FIRSTNAME",ee[ee.LASTNAME=2]="LASTNAME",ee[ee.PASSWORD=3]="PASSWORD",ee[ee.SEX=4]="SEX",ee[ee.BIRHTDAY=5]="BIRHTDAY";var re,ne=function(e){function t(e){var a;for(var r in Object(g.a)(this,t),(a=Object(S.a)(this,Object(N.a)(t).call(this,e))).errorMessages=new Map,a.displayError=function(e){return a.displayHelperText(e).length>0},a.setHelpersText=function(){var e=a.state,t=e.email,r=e.password,n="";n="",Z.validateEmail(t)||(n="Email address is not valid"),a.errorMessages.set(Q.EMAIL,n),n="",0===r.length&&(n="Password is required"),a.errorMessages.set(Q.PASSWORD,n)},a.displayHelperText=function(e){return a.state.submitted?a.errorMessages.get(e):""},a.handleRegister=Object(j.a)(I.a.mark((function e(){var t,r,n,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({submitted:!0}),t=!1,a.errorMessages.forEach((function(e,a){t||(t=e.length>0)})),t||(r=a.state,n=r.email,i=r.password,$.loginUser(n,i).then((function(e){ae.getUser(e.user.uid).then((function(e){a.props.dispatch(d(e))}))})).catch(function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({snackBarText:t.message});case 2:a.setState({showSnackBar:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),a.handleClose=function(){return a.setState({showSnackBar:!1})},a.state={submitted:!1,email:"",password:"",showSnackBar:!1,snackBarText:""},Q)a.errorMessages.set(parseInt(r),"");return a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,r=t.password,i=t.showSnackBar,s=t.snackBarText;return this.setHelpersText(),n.a.createElement("div",{className:"componentContainer componentLoginContainer"},n.a.createElement("div",{className:"componentWelcome"},"Good to see you again. Welcome!"),n.a.createElement(q,{variant:f.ERROR,handleClose:this.handleClose,show:i,text:s}),n.a.createElement("form",{className:"componentForm componentLoginForm"},n.a.createElement(C.a,{required:!0,error:this.displayError(Q.EMAIL),value:a,onChange:function(t){return e.setState({email:t.target.value})},id:"email",label:"E-mail",helperText:this.displayHelperText(Q.EMAIL),variant:"outlined"}),n.a.createElement(C.a,{required:!0,error:this.displayError(Q.PASSWORD),value:r,onChange:function(t){return e.setState({password:t.target.value})},id:"password",label:"Password",type:"password",helperText:this.displayHelperText(Q.PASSWORD),variant:"outlined"})),n.a.createElement("div",{className:"formSubmit"},n.a.createElement(L.a,{variant:"contained",color:"primary",className:"submitButton",onClick:this.handleRegister},"Login")))}}]),t}(r.Component),ie=Object(c.b)((function(e){return{userAuthenticated:e.userAuthenticated}}))(ne),se=a(186),oe=a(138),ce=a(137),le=a(139),ue=a(140);!function(e){e[e.EMAIL=0]="EMAIL",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.LASTNAME=2]="LASTNAME",e[e.PASSWORD=3]="PASSWORD",e[e.SEX=4]="SEX",e[e.BIRHTDAY=5]="BIRHTDAY"}(re||(re={}));var de,me=function(e){function t(e){var a;for(var r in Object(g.a)(this,t),(a=Object(S.a)(this,Object(N.a)(t).call(this,e))).errorMessages=new Map,a.displayError=function(e){return a.displayHelperText(e).length>0},a.setHelpersText=function(){var e=a.state,t=e.email,r=e.password,n=e.firstName,i="";i="",Z.validateEmail(t)||(i="Email address is not valid"),a.errorMessages.set(re.EMAIL,i),i="",0===n.length&&(i="First Name Required"),a.errorMessages.set(re.FIRSTNAME,i),i="",0===r.length&&(i="Password is required"),a.errorMessages.set(re.PASSWORD,i)},a.displayHelperText=function(e){return a.state.submitted?a.errorMessages.get(e):""},a.handleRegister=Object(j.a)(I.a.mark((function e(){var t,r,n,i,s,o,c,l,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({submitted:!0}),t=!1,a.errorMessages.forEach((function(e,a){t||(t=e.length>0)})),t||(r=a.state,n=r.email,i=r.password,s=r.firstName,o=r.lastName,c=r.sex,l=r.birthday,u=new te(n,s,c,l,o),$.createUser(n,i).then(function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.id=t.user.uid,e.next=3,ae.createUser(u);case 3:a.props.dispatch(d(u));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({snackBarText:t.message});case 2:a.setState({showSnackBar:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),a.handleClose=function(){return a.setState({showSnackBar:!1})},a.state={submitted:!1,email:"",firstName:"",lastName:"",password:"",sex:J.NOT_INFORM,birthday:void 0,showSnackBar:!1,snackBarText:""},re)a.errorMessages.set(parseInt(r),"");return a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,r=t.password,i=t.firstName,s=t.lastName,o=t.sex,c=t.birthday,l=t.showSnackBar,u=t.snackBarText;return this.setHelpersText(),n.a.createElement("div",{className:"componentContainer"},n.a.createElement("div",{className:"componentWelcome"},"Welcome to mine, yours, our Social Network!"),n.a.createElement(q,{variant:f.ERROR,handleClose:this.handleClose,show:l,text:u}),n.a.createElement("form",{className:"componentForm"},n.a.createElement(C.a,{required:!0,error:this.displayError(re.EMAIL),value:a,onChange:function(t){return e.setState({email:t.target.value})},id:"email",label:"E-mail",helperText:this.displayHelperText(re.EMAIL),variant:"outlined"}),n.a.createElement(C.a,{required:!0,error:this.displayError(re.PASSWORD),value:r,onChange:function(t){return e.setState({password:t.target.value})},id:"password",label:"Password",type:"password",helperText:this.displayHelperText(re.PASSWORD),variant:"outlined"}),n.a.createElement(C.a,{required:!0,error:this.displayError(re.FIRSTNAME),value:i,onChange:function(t){return e.setState({firstName:t.target.value})},id:"firstName",label:"First name",helperText:this.displayHelperText(re.FIRSTNAME),variant:"outlined"}),n.a.createElement(C.a,{id:"lastName",value:s,onChange:function(t){return e.setState({lastName:t.target.value})},error:this.displayError(re.LASTNAME),label:"Last name",helperText:this.displayHelperText(re.LASTNAME),variant:"outlined"}),n.a.createElement(C.a,{id:"date",label:"Date of birth",type:"date",value:c,onChange:function(t){var a;(a=new Date(t.target.value)).getFullYear()>1e3&&e.setState({birthday:a})},className:"inputDate",InputLabelProps:{shrink:!0},variant:"outlined"}),n.a.createElement(ce.a,{variant:"outlined",error:this.displayError(re.SEX)},n.a.createElement(ue.a,{id:"demo-simple-select-error-label"},"Gender"),n.a.createElement(le.a,{labelId:"demo-simple-select-error-label",id:"demo-simple-select-error",value:o,onChange:function(t){return e.setState({sex:t.target.value})}},n.a.createElement(se.a,{value:J.MALE},"Male"),n.a.createElement(se.a,{value:J.FEMALE},"Female"),n.a.createElement(se.a,{value:J.NOT_INFORM},"Not informed")),n.a.createElement(oe.a,null,this.displayHelperText(re.SEX)))),n.a.createElement("div",{className:"formSubmit"},n.a.createElement(L.a,{variant:"contained",color:"primary",className:"submitButton",onClick:this.handleRegister},"Register")))}}]),t}(r.Component),he=Object(c.b)((function(e){return{userAuthenticated:e.userAuthenticated}}))(me);!function(e){e[e.Login=0]="Login",e[e.Register=1]="Register"}(de||(de={}));var pe=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(S.a)(this,Object(N.a)(t).call(this,e))).authenticationCanBeChanged=function(){void 0!==v.getState().userAuthenticated&&a.props.history.push(Ie.HOME)},a.state={selectedTab:de.Login},v.subscribe(a.authenticationCanBeChanged),a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"setSelectedTab",value:function(e){this.setState({selectedTab:e})}},{key:"renderActiveTab",value:function(){switch(this.state.selectedTab){case de.Login:return n.a.createElement(ie,null);case de.Register:return n.a.createElement(he,null);default:return n.a.createElement("h1",null,"Falha no sistema")}}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"login-container"},this.renderActiveTab(),n.a.createElement(w.a,{square:!0,className:"bottomTabs"},n.a.createElement(T.a,{value:this.state.selectedTab,onChange:function(t,a){return e.setSelectedTab(a)},indicatorColor:"primary",textColor:"primary",centered:!0,"aria-label":"icon label tabs example"},n.a.createElement(A.a,{value:de.Login,label:"Login"}),n.a.createElement(A.a,{value:de.Register,label:"Create account"}))))}}]),t}(r.Component),fe=(a(127),a(63));a(128);function ve(){var e,t;!function(e){e.FRIENDS="Friends",e.PUBLIC="Public"}(e||(e={})),function(e){e[e.POST_CONTENT=0]="POST_CONTENT"}(t||(t={}));var a,r=n.a.useState(!1),i=Object(fe.a)(r,2),s=i[0],o=i[1],c=n.a.useState(e.FRIENDS),l=Object(fe.a)(c,2),u=l[0],d=l[1],m=n.a.useState(""),h=Object(fe.a)(m,2),p=h[0],f=h[1],v=function(e){if(!s)return"";switch(e){case t.POST_CONTENT:return 0===p.length?"Post content required":"";default:return""}};function E(){return(E=Object(j.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return n.a.createElement("div",{className:"createPostContainer"},n.a.createElement("div",{className:"contentArea"},n.a.createElement(C.a,{id:"outlined-multiline-static",label:"What's going on?",multiline:!0,rows:"4",value:p,onChange:function(e){return f(e.target.value)},margin:"normal",variant:"outlined",error:(a=t.POST_CONTENT,v(a).length>0),helperText:v(t.POST_CONTENT)})),n.a.createElement("div",{className:"bottomButtons"},n.a.createElement(ce.a,{variant:"outlined",className:"formChooseVisibility"},n.a.createElement(le.a,{labelId:"demo-simple-select-error-label",id:"demo-simple-select-error",value:u,onChange:function(e){return d(e.target.value)}},n.a.createElement(se.a,{value:e.FRIENDS},e.FRIENDS),n.a.createElement(se.a,{value:e.PUBLIC},e.PUBLIC))),n.a.createElement(L.a,{variant:"contained",color:"primary",onClick:function(){return E.apply(this,arguments)},className:"formSubmit"},"Post")))}a(129);var Ee,be=a(178),ge=a(179),Oe=a(181),Se=a(182),Ne=a(180),ye=a(89),we=a.n(ye),Te=a(90),Ae=a.n(Te),ke=function(e){function t(e){return Object(g.a)(this,t),Object(S.a)(this,Object(N.a)(t).call(this,e))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"postContainer"},n.a.createElement(be.a,{className:"cardContainer"},n.a.createElement(ge.a,{avatar:n.a.createElement(Ne.a,{"aria-label":"recipe"}," C "),title:this.props.post.user.getFullName(),subheader:Z.formatDate(this.props.post.date,!0)}),n.a.createElement(Oe.a,null,this.props.post.content),n.a.createElement(Se.a,{disableSpacing:!0},n.a.createElement(M.a,{"aria-label":"edit"},n.a.createElement(we.a,null)),n.a.createElement(M.a,{"aria-label":"delete"},n.a.createElement(Ae.a,null)))))}}]),t}(r.Component);!function(e){e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE"}(Ee||(Ee={}));var Ie,je=function e(t,a,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee.PUBLIC;Object(g.a)(this,e),this.id="",this.user=void 0,this.date=void 0,this.content=void 0,this.history=void 0,this.visibility=void 0,this._user=void 0,this.user=t,this._user=t.id,this.date=a,this.content=r,this.visibility=n,this.history=new Array},Ce=function(e){function t(e){var a;Object(g.a)(this,t),a=Object(S.a)(this,Object(N.a)(t).call(this,e));var r=new te("claudineibjr@hotmail.com","Claudinei",J.MALE,new Date(1996,9,27),"Brito Junior");return a.state={user:r,posts:[new je(r,new Date,"Hello World",Ee.PUBLIC),new je(r,new Date,"Hoje estou estudando React",Ee.PUBLIC),new je(r,new Date,"Isso aqui ningu\xe9m deveria ficar sabendo",Ee.PRIVATE)]},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){console.log(this.state.posts);var e=this.state.posts.map((function(e,t){return n.a.createElement(ke,{post:e})}));return n.a.createElement("div",{className:"homePageContainer"},n.a.createElement(ve,null),e)}}]),t}(r.Component);a(130);function Le(){return n.a.createElement("h1",null,"Hello World! Profile")}function Re(){return n.a.createElement("h1",{style:{textAlign:"center"}},"Page not Found",n.a.createElement("br",null),n.a.createElement(E.b,{to:"/"},"Go to Home "))}!function(e){e.LOGIN="/login",e.HOME="/home",e.PROFILE="/profile"}(Ie||(Ie={}));a(132);s.a.render(n.a.createElement((function(){return n.a.createElement(c.a,{store:v},n.a.createElement(E.a,{basename:"/SocialNetwork"},n.a.createElement(b.c,null,n.a.createElement(b.a,{path:"/",exact:!0,component:pe}),n.a.createElement(b.a,{path:Ie.LOGIN,component:pe}),n.a.createElement(b.a,{path:Ie.HOME,component:Ce}),n.a.createElement(b.a,{path:Ie.PROFILE,component:Le}),n.a.createElement(b.a,{component:Re}))))}),null),document.getElementById("root"))},67:function(e,t,a){},81:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"}},[[103,1,2]]]);
//# sourceMappingURL=main.c2f116dc.chunk.js.map