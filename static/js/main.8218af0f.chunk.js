(this.webpackJsonpsocialnetwork_laboratoria=this.webpackJsonpsocialnetwork_laboratoria||[]).push([[0],{104:function(e,t,a){e.exports=a(134)},109:function(e,t,a){},110:function(e,t,a){},116:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),i=a.n(s);a(109),a(82),a(110);var o,c=a(31),l=a(11),u=a(59);function d(e){return{type:o.LOGIN,userAuthenticated:e}}function m(e){var t=E.getState().posts;return t.push(e),{type:o.CREATE_POST,posts:t}}function h(e){return{type:o.REFRESH_POSTS,posts:e}}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}!function(e){e[e.LOGIN=0]="LOGIN",e[e.LOGOFF=1]="LOGOFF",e[e.CREATE_POST=2]="CREATE_POST",e[e.REFRESH_POSTS=3]="REFRESH_POSTS"}(o||(o={}));var v={userAuthenticated:void 0,posts:new Array};var b,E=Object(u.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.LOGIN:return f({},e,{userAuthenticated:t.userAuthenticated});case o.LOGOFF:return f({},e,{userAuthenticated:void 0});case o.CREATE_POST:case o.REFRESH_POSTS:return f({},e,{posts:t.posts});default:return e}})),g=a(62),O=a(42),y=a(13),S=a(10),w=a(25),N=a(26),k=a(29),T=(a(68),a(135)),A=a(186),C=a(180),P=a(9),x=a.n(P),j=a(17),M=a(177),R=a(179),I=a(187),L=a(178),F=(a(116),a(189)),D=a(176),B=a(88),H=a.n(B),U=a(87),_=a.n(U),W=a(86),G=a.n(W),q=a(84),V=a.n(q),Z=a(85),X=a.n(Z);function Y(e){var t,a=e.text,n=e.handleClose,s=e.variant,i=e.show;switch(s){case b.WARNING:t=r.a.createElement(V.a,null);break;case b.SUCCESS:t=r.a.createElement(X.a,null);break;case b.ERROR:t=r.a.createElement(G.a,null);break;case b.INFO:t=r.a.createElement(_.a,null)}return r.a.createElement(F.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:i,autoHideDuration:8e3,onClose:n,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id",className:"message"},t,a),action:[r.a.createElement(D.a,{key:"close","aria-label":"close",color:"inherit",className:"close",onClick:n},r.a.createElement(H.a,null))],className:"SnackBar "+s})}!function(e){e.WARNING="warning",e.SUCCESS="success",e.ERROR="error",e.INFO="info"}(b||(b={}));var z=function(){function e(){Object(y.a)(this,e)}return Object(S.a)(e,null,[{key:"validateEmail",value:function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},{key:"formatDate",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getFullYear(),r=e.completeLeadingZeros((t.getMonth()+1).toString(),2),s=e.completeLeadingZeros(t.getDate().toString(),2),i="";return a&&(i=" "+this.formatHour(t)),s+"/"+r+"/"+n+i}},{key:"formatHour",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.completeLeadingZeros(t.getHours().toString(),2),r=e.completeLeadingZeros(t.getMinutes().toString(),2),s=a?":"+e.completeLeadingZeros(t.getSeconds().toString(),2):"";return n+":"+r+s}},{key:"getMidnightTime",value:function(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}},{key:"translateDateToText",value:function(e){var t=e;return this.getMidnightTime(e).valueOf()===this.getMidnightTime(new Date).valueOf()?"Today at "+this.formatHour(t):""}},{key:"completeLeadingZeros",value:function(e,t){for(var a="",n=0;n<t;n++)a="0"+a;return(a+e).slice(-t)}}]),e}(),J=a(55),K=a.n(J),$=function e(){Object(y.a)(this,e)};function Q(){for(var e=0;e<K.a.apps.length;e++)if("[DEFAULT]"==K.a.apps[e].name)return;K.a.initializeApp($.firebaseConfig)}$.firebaseConfig={apiKey:"AIzaSyDS1v5erkI8ArkEpO_NoEDRv4wcDDLIu5I",authDomain:"socialnetwork-d9478.firebaseapp.com",databaseURL:"https://socialnetwork-d9478.firebaseio.com",projectId:"socialnetwork-d9478",storageBucket:"socialnetwork-d9478.appspot.com",messagingSenderId:"1077042299179",appId:"1:1077042299179:web:4048574ca3f2bcffa4456e"};var ee,te=K.a,ae=function(){function e(){Object(y.a)(this,e)}return Object(S.a)(e,null,[{key:"createUser",value:function(e,t){return Q(),new Promise((function(a,n){te.auth().createUserWithEmailAndPassword(e,t).then((function(e){a(e)})).catch((function(e){n(e)}))}))}},{key:"loginUser",value:function(e,t){return Q(),new Promise((function(a,n){te.auth().signInWithEmailAndPassword(e,t).then((function(e){a(e)})).catch((function(e){n(e)}))}))}},{key:"resetPassword",value:function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,te.auth().sendPasswordResetEmail(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e[e.MALE=0]="MALE",e[e.FEMALE=1]="FEMALE",e[e.NOT_INFORM=2]="NOT_INFORM"}(ee||(ee={}));var ne,re=function(){function e(t,a,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";Object(y.a)(this,e),this.id="",this.email=void 0,this.firstName=void 0,this.lastName=void 0,this.gender=void 0,this.birthday=void 0,this.friends=void 0,this._friends=void 0,this.email=t,this.firstName=a,this.gender=n,this.birthday=r,this.lastName=s,this.friends=new Array,this._friends=new Array}return Object(S.a)(e,[{key:"getFullName",value:function(){return this.firstName+" "+this.lastName}},{key:"getUpdatable",value:function(){return{id:this.id,email:this.email,firstName:this.firstName,lastName:this.lastName,gender:this.gender,birthday:void 0!=this.birthday?this.birthday.getTime():null,friends:this._friends}}}],[{key:"getUser",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.id,r=t.email,s=t.firstName,i=t.lastName,o=t.gender,c=t.birthday?new Date(t.birthday):void 0,l=t.friends?Object.keys(t.requests).map((function(e){return t.friends[e]})):new Array,u=new Array;a&&(u=new Array);var d=new e(r,s,o,c,i);return d.id=n,d._friends=l,d.friends=u,d}}]),e}(),se=function(){function e(){Object(y.a)(this,e)}return Object(S.a)(e,null,[{key:"createUser",value:function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,te.database().ref("users/"+t.id).update(t.getUpdatable());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUser",value:function(e){return Q(),new Promise((function(t,a){te.database().ref("users/"+e).once("value",(function(e){var a=re.getUser(e.exportVal());t(a)}))}))}}]),e}();!function(e){e[e.EMAIL=0]="EMAIL",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.LASTNAME=2]="LASTNAME",e[e.PASSWORD=3]="PASSWORD",e[e.SEX=4]="SEX",e[e.BIRHTDAY=5]="BIRHTDAY"}(ne||(ne={}));var ie,oe=function(e){function t(e){var a;for(var n in Object(y.a)(this,t),(a=Object(w.a)(this,Object(N.a)(t).call(this,e))).errorMessages=new Map,a.componentWillMount=function(){var e=localStorage.getItem("@SocialNetwork/uid");e&&a.loginUser(e)},a.displayError=function(e){return a.displayHelperText(e).length>0},a.setHelpersText=function(){var e=a.state,t=e.email,n=e.password,r="";r="",z.validateEmail(t)||(r="Email address is not valid"),a.errorMessages.set(ne.EMAIL,r),r="",0===n.length&&(r="Password is required"),a.errorMessages.set(ne.PASSWORD,r)},a.displayHelperText=function(e){return a.state.submitted?a.errorMessages.get(e):""},a.handleLogin=Object(j.a)(x.a.mark((function e(){var t,n,r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({submitted:!0}),t=!1,a.errorMessages.forEach((function(e,a){t||(t=e.length>0)})),t||(n=a.state,r=n.email,s=n.password,i=n.keepConnected,ae.loginUser(r,s).then((function(e){i?localStorage.setItem("@SocialNetwork/uid",e.user.uid):localStorage.removeItem("@SocialNetwork/uid"),a.loginUser(e.user.uid)})).catch(function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({snackBarText:t.message});case 2:a.setState({showSnackBar:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),a.loginUser=function(e){se.getUser(e).then((function(e){a.props.dispatch(d(e))}))},a.handleClose=function(){return a.setState({showSnackBar:!1})},a.state={submitted:!1,email:"",password:"",showSnackBar:!1,snackBarText:"",keepConnected:!0},ne)a.errorMessages.set(parseInt(n),"");return a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,s=t.showSnackBar,i=t.snackBarText,o=t.keepConnected;return this.setHelpersText(),r.a.createElement("div",{className:"componentContainer componentLoginContainer"},r.a.createElement("div",{className:"componentWelcome"},"Good to see you again. Welcome!"),r.a.createElement(Y,{variant:b.ERROR,handleClose:this.handleClose,show:s,text:i}),r.a.createElement("form",{className:"componentForm componentLoginForm"},r.a.createElement(M.a,{required:!0,error:this.displayError(ne.EMAIL),value:a,onChange:function(t){return e.setState({email:t.target.value})},id:"email",label:"E-mail",helperText:this.displayHelperText(ne.EMAIL),variant:"outlined"}),r.a.createElement(M.a,{required:!0,error:this.displayError(ne.PASSWORD),value:n,onChange:function(t){return e.setState({password:t.target.value})},id:"password",label:"Password",type:"password",helperText:this.displayHelperText(ne.PASSWORD),variant:"outlined"}),r.a.createElement(L.a,{control:r.a.createElement(I.a,{checked:o,onChange:function(t){return e.setState({keepConnected:t.target.checked})},value:o,color:"primary"}),label:"Keep connected"})),r.a.createElement("div",{className:"formSubmit"},r.a.createElement(R.a,{variant:"contained",color:"primary",className:"submitButton",onClick:this.handleLogin},"Login")))}}]),t}(n.Component),ce=Object(c.b)((function(e){return{userAuthenticated:e.userAuthenticated}}))(oe),le=a(190),ue=a(139),de=a(138),me=a(140),he=a(141);!function(e){e[e.EMAIL=0]="EMAIL",e[e.FIRSTNAME=1]="FIRSTNAME",e[e.LASTNAME=2]="LASTNAME",e[e.PASSWORD=3]="PASSWORD",e[e.SEX=4]="SEX",e[e.BIRHTDAY=5]="BIRHTDAY"}(ie||(ie={}));var pe,fe=function(e){function t(e){var a;for(var n in Object(y.a)(this,t),(a=Object(w.a)(this,Object(N.a)(t).call(this,e))).errorMessages=new Map,a.displayError=function(e){return a.displayHelperText(e).length>0},a.setHelpersText=function(){var e=a.state,t=e.email,n=e.password,r=e.firstName,s="";s="",z.validateEmail(t)||(s="Email address is not valid"),a.errorMessages.set(ie.EMAIL,s),s="",0===r.length&&(s="First Name Required"),a.errorMessages.set(ie.FIRSTNAME,s),s="",0===n.length&&(s="Password is required"),a.errorMessages.set(ie.PASSWORD,s)},a.displayHelperText=function(e){return a.state.submitted?a.errorMessages.get(e):""},a.handleRegister=Object(j.a)(x.a.mark((function e(){var t,n,r,s,i,o,c,l,u;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({submitted:!0}),t=!1,a.errorMessages.forEach((function(e,a){t||(t=e.length>0)})),t||(n=a.state,r=n.email,s=n.password,i=n.firstName,o=n.lastName,c=n.sex,l=n.birthday,u=new re(r,i,c,l,o),ae.createUser(r,s).then(function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.id=t.user.uid,e.next=3,se.createUser(u);case 3:a.props.dispatch(d(u));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(j.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({snackBarText:t.message});case 2:a.setState({showSnackBar:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),a.handleClose=function(){return a.setState({showSnackBar:!1})},a.state={submitted:!1,email:"",firstName:"",lastName:"",password:"",sex:ee.NOT_INFORM,birthday:void 0,showSnackBar:!1,snackBarText:""},ie)a.errorMessages.set(parseInt(n),"");return a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,s=t.firstName,i=t.lastName,o=t.sex,c=t.birthday,l=t.showSnackBar,u=t.snackBarText;return this.setHelpersText(),r.a.createElement("div",{className:"componentContainer"},r.a.createElement("div",{className:"componentWelcome"},"Welcome to mine, yours, our Social Network!"),r.a.createElement(Y,{variant:b.ERROR,handleClose:this.handleClose,show:l,text:u}),r.a.createElement("form",{className:"componentForm"},r.a.createElement(M.a,{required:!0,error:this.displayError(ie.EMAIL),value:a,onChange:function(t){return e.setState({email:t.target.value})},id:"email",label:"E-mail",helperText:this.displayHelperText(ie.EMAIL),variant:"outlined"}),r.a.createElement(M.a,{required:!0,error:this.displayError(ie.PASSWORD),value:n,onChange:function(t){return e.setState({password:t.target.value})},id:"password",label:"Password",type:"password",helperText:this.displayHelperText(ie.PASSWORD),variant:"outlined"}),r.a.createElement(M.a,{required:!0,error:this.displayError(ie.FIRSTNAME),value:s,onChange:function(t){return e.setState({firstName:t.target.value})},id:"firstName",label:"First name",helperText:this.displayHelperText(ie.FIRSTNAME),variant:"outlined"}),r.a.createElement(M.a,{id:"lastName",value:i,onChange:function(t){return e.setState({lastName:t.target.value})},error:this.displayError(ie.LASTNAME),label:"Last name",helperText:this.displayHelperText(ie.LASTNAME),variant:"outlined"}),r.a.createElement(M.a,{id:"date",label:"Date of birth",type:"date",value:c,onChange:function(t){var a;(a=new Date(t.target.value)).getFullYear()>1e3&&e.setState({birthday:a})},className:"inputDate",InputLabelProps:{shrink:!0},variant:"outlined"}),r.a.createElement(de.a,{variant:"outlined",error:this.displayError(ie.SEX)},r.a.createElement(he.a,{id:"demo-simple-select-error-label"},"Gender"),r.a.createElement(me.a,{labelId:"demo-simple-select-error-label",id:"demo-simple-select-error",value:o,onChange:function(t){return e.setState({sex:t.target.value})}},r.a.createElement(le.a,{value:ee.MALE},"Male"),r.a.createElement(le.a,{value:ee.FEMALE},"Female"),r.a.createElement(le.a,{value:ee.NOT_INFORM},"Not informed")),r.a.createElement(ue.a,null,this.displayHelperText(ie.SEX)))),r.a.createElement("div",{className:"formSubmit"},r.a.createElement(R.a,{variant:"contained",color:"primary",className:"submitButton",onClick:this.handleRegister},"Register")))}}]),t}(n.Component),ve=Object(c.b)((function(e){return{userAuthenticated:e.userAuthenticated}}))(fe);!function(e){e[e.Login=0]="Login",e[e.Register=1]="Register"}(pe||(pe={}));var be,Ee=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(N.a)(t).call(this,e))).authenticationCanBeChanged=function(){void 0!==E.getState().userAuthenticated&&a.props.history.push(we.HOME)},a.state={selectedTab:pe.Login},E.subscribe(a.authenticationCanBeChanged),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"setSelectedTab",value:function(e){this.setState({selectedTab:e})}},{key:"renderActiveTab",value:function(){switch(this.state.selectedTab){case pe.Login:return r.a.createElement(ce,null);case pe.Register:return r.a.createElement(ve,null);default:return r.a.createElement("h1",null,"Falha no sistema")}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-container"},this.renderActiveTab(),r.a.createElement(T.a,{square:!0,className:"bottomTabs"},r.a.createElement(A.a,{value:this.state.selectedTab,onChange:function(t,a){return e.setSelectedTab(a)},indicatorColor:"primary",textColor:"primary",centered:!0,"aria-label":"icon label tabs example"},r.a.createElement(C.a,{value:pe.Login,label:"Login"}),r.a.createElement(C.a,{value:pe.Register,label:"Create account"}))))}}]),t}(n.Component),ge=(a(128),a(183));a(129);!function(e){e[e.PUBLIC=0]="PUBLIC",e[e.PRIVATE=1]="PRIVATE"}(be||(be={}));var Oe,ye=function(){function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be.PUBLIC;Object(y.a)(this,e),this.id="",this.user=void 0,this.date=void 0,this.content=void 0,this.history=void 0,this.visibility=void 0,this._user=void 0,this.user=t,this._user=t.id,this.date=a,this.content=n,this.visibility=r,this.history=new Array}return Object(S.a)(e,[{key:"getUpdatable",value:function(){return{id:this.id,user:this._user,date:this.date.getTime(),content:this.content,visibility:this.visibility,history:this.history}}}],[{key:"getPost",value:function(){var t=Object(j.a)(x.a.mark((function t(a){var n,r,s,i,o,c,l=arguments;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.length>1&&void 0!==l[1]&&l[1],l.length>2&&void 0!==l[2]&&l[2],n=a.id,r=a.user,s=new Date(a.date),i=a.content,o=a.visibility,c=a.history?Object.keys(a.history).map((function(e){return a.history[e]})):new Array,t.abrupt("return",new Promise(function(){var t=Object(j.a)(x.a.mark((function t(a,l){var u,d;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se.getUser(r);case 2:u=t.sent,(d=new e(u,s,i,o)).id=n,d._user=r,d.history=c,a(d);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),Se=function(){function e(){Object(y.a)(this,e)}return Object(S.a)(e,null,[{key:"createPost",value:function(){var e=Object(j.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),e.next=3,te.database().ref("posts").push();case 3:return a=e.sent,t.id=a.key,e.next=7,te.database().ref("posts/"+a.key).update(t.getUpdatable());case 7:return e.abrupt("return",new Promise((function(e,t){return e(a.key)})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPost",value:function(e){return Q(),new Promise((function(t){te.database().ref("posts/"+e).once("value",function(){var e=Object(j.a)(x.a.mark((function e(a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye.getPost(a.exportVal());case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))}},{key:"getAvailablePosts",value:function(){var e=this;Q();new Array;return new Promise((function(t,a){te.database().ref("posts/").orderByChild("date").once("value",(function(a){e.getPostsFromDataSnapshot(a).then((function(e){t(e)}))}))}))}},{key:"getPostsFromDataSnapshot",value:function(e){return new Promise((function(t,a){var n=new Array;e.forEach((function(e){n.push(new Promise((function(t,a){ye.getPost(e.exportVal()).then((function(e){t(e)}))})))})),Promise.all(n).then((function(e){t(e)}))}))}}]),e}();!function(e){e[e.POST_CONTENT=0]="POST_CONTENT"}(Oe||(Oe={}));var we,Ne=function(e){function t(e){var a;for(var n in Object(y.a)(this,t),(a=Object(w.a)(this,Object(N.a)(t).call(this,e))).errorMessages=new Map,a.displayError=function(e){return a.displayHelperText(e).length>0},a.setHelpersText=function(){var e="";e="",0===a.state.postContent.length&&(e="Post content required"),a.errorMessages.set(Oe.POST_CONTENT,e)},a.displayHelperText=function(e){return a.state.submitted?a.errorMessages.get(e):""},a.handlePost=Object(j.a)(x.a.mark((function e(){var t,n,r,s,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({submitted:!0}),t=!1,a.errorMessages.forEach((function(e,a){t||(t=e.length>0)})),t||(n=a.state,r=n.postContent,s=n.visibility,i=E.getState().userAuthenticated,o=new ye(i,new Date,r,s),Se.createPost(o).then((function(e){a.props.dispatch(m(o)),a.setState({submitted:!1,showSnackBar:!0,postContent:""})})));case 4:case"end":return e.stop()}}),e)}))),a.setPostContent=function(e){return a.setState({postContent:e})},a.setVisibility=function(e){return a.setState({visibility:e})},a.handleCloseSnackBar=function(){return a.setState({showSnackBar:!1})},a.state={submitted:!1,visibility:be.PRIVATE,postContent:"",showSnackBar:!1},Oe)a.errorMessages.set(parseInt(n),"");return a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.visibility,n=t.postContent,s=t.showSnackBar;return this.setHelpersText(),r.a.createElement("div",{className:"createPostContainer"},r.a.createElement(Y,{variant:b.SUCCESS,handleClose:this.handleCloseSnackBar,show:s,text:"Post created"}),r.a.createElement("div",{className:"contentArea"},r.a.createElement(M.a,{id:"outlined-multiline-static",label:"What's going on?",multiline:!0,rows:"4",value:n,onChange:function(t){return e.setPostContent(t.target.value)},margin:"normal",variant:"outlined",error:this.displayError(Oe.POST_CONTENT),helperText:this.displayHelperText(Oe.POST_CONTENT)})),r.a.createElement("div",{className:"bottomButtons"},r.a.createElement(de.a,{variant:"outlined",className:"formChooseVisibility"},r.a.createElement(me.a,{labelId:"demo-simple-select-error-label",id:"demo-simple-select-error",value:a,onChange:function(t){return e.setVisibility(t.target.value)}},r.a.createElement(le.a,{value:be.PRIVATE},"Only friends"),r.a.createElement(le.a,{value:be.PUBLIC},"Public"))),r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.handlePost,className:"formSubmit"},"Post")))}}]),t}(n.Component),ke=Object(c.b)((function(e){return{}}))(Ne),Te=(a(130),a(181)),Ae=a(182),Ce=a(184),Pe=a(185),xe=a(90),je=a.n(xe),Me=a(91),Re=a.n(Me),Ie=function(e){function t(e){return Object(y.a)(this,t),Object(w.a)(this,Object(N.a)(t).call(this,e))}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"postContainer"},r.a.createElement(Te.a,{className:"cardContainer"},r.a.createElement(Ae.a,{avatar:r.a.createElement(ge.a,{"aria-label":"recipe"}," C "),title:this.props.post.user.getFullName(),subheader:z.formatDate(this.props.post.date,!0)}),r.a.createElement(Ce.a,null,this.props.post.content),r.a.createElement(Pe.a,{disableSpacing:!0},r.a.createElement(D.a,{"aria-label":"edit"},r.a.createElement(je.a,null)),r.a.createElement(D.a,{"aria-label":"delete"},r.a.createElement(Re.a,null)))))}}]),t}(n.Component),Le=a(92),Fe=a.n(Le),De=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(N.a)(t).call(this,e))).componentWillMount=Object(j.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.getState().userAuthenticated){e.next=7;break}if(!(t=localStorage.getItem("@SocialNetwork/uid"))){e.next=7;break}return e.next=5,se.getUser(t);case 5:n=e.sent,a.props.dispatch(d(n));case 7:case"end":return e.stop()}}),e)}))),a.componentDidMount=function(){a.loadPostsFromDB()},a.loadPostsFromDB=Object(j.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.getAvailablePosts();case 2:t=e.sent,a.props.dispatch(h(t));case 4:case"end":return e.stop()}}),e)}))),a.handleLogoff=function(){localStorage.removeItem("@SocialNetwork/uid"),a.props.dispatch({type:o.LOGOFF}),a.props.history.push(we.LOGIN)},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts,a=e.userAuthenticated,n=t.map((function(e,t){return r.a.createElement(Ie,{post:e})}));return r.a.createElement("div",{className:"homePageContainer"},a&&r.a.createElement("div",{className:"onlyAuthenticated"},r.a.createElement("div",{className:"headerContainer"},r.a.createElement("div",{className:"profileContainer"},r.a.createElement(ge.a,{"aria-label":"recipe"}," C "),r.a.createElement("div",{className:"profileName"},a.getFullName())),r.a.createElement(R.a,{variant:"contained",color:"secondary",onClick:this.handleLogoff,startIcon:r.a.createElement(Fe.a,null)},"Logoff")),r.a.createElement(ke,null)),n)}}]),t}(n.Component),Be=Object(c.b)((function(e){return{posts:e.posts,userAuthenticated:e.userAuthenticated}}))(De);a(131);function He(){return r.a.createElement("h1",null,"Hello World! Profile")}function Ue(){return r.a.createElement("h1",{style:{textAlign:"center"}},"Page not Found",r.a.createElement("br",null),r.a.createElement(g.b,{to:"/"},"Go to Home "))}!function(e){e.LOGIN="/login",e.HOME="/home",e.PROFILE="/profile"}(we||(we={}));a(133);i.a.render(r.a.createElement((function(){return r.a.createElement(c.a,{store:E},r.a.createElement(g.a,{basename:"/SocialNetwork"},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",exact:!0,component:Ee}),r.a.createElement(O.a,{path:we.LOGIN,component:Ee}),r.a.createElement(O.a,{path:we.HOME,component:Be}),r.a.createElement(O.a,{path:we.PROFILE,component:He}),r.a.createElement(O.a,{component:Ue}))))}),null),document.getElementById("root"))},68:function(e,t,a){},82:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"}},[[104,1,2]]]);
//# sourceMappingURL=main.8218af0f.chunk.js.map